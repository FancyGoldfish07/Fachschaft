I"±(function() {
  var updateEvent;

  $(document).ready(function() {
    $('#calendar').fullCalendar({
      editable: false,
      theme: false,
      height: 900,
      header: {
        left: 'prev,next today myCustomButton',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
      },
      defaultView: 'month',
      height: 500,
      slotMinutes: 30,
      eventSources: [
        {
          json: '/events'
        }
      ],
      timeFormat: 'h:mm t{ - h:mm t} ',
      dragOpacity: "0.5",
      events: '/events.json',
      eventDrop: function(event, dayDelta, minuteDelta, allDay, revertFunc) {
        return updateEvent(event);
      },
      eventResize: function(event, dayDelta, minuteDelta, revertFunc) {
        return updateEvent(event);
      }
    });
    $('#calendar_prev').fullCalendar({
      editable: false,
      defaultView: 'agendaWeek',
      height: 500,
      events: '/events.json'
    });
    return $('#calendar_editable').fullCalendar({
      editable: true,
      theme: false,
      height: 700,
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
      },
      defaultView: 'month',
      height: 500,
      slotMinutes: 30,
      eventSources: [
        {
          json: '/events'
        }
      ],
      timeFormat: 'h:mm t{ - h:mm t} ',
      dragOpacity: "0.5",
      events: '/events.json',
      eventDrop: function(event, dayDelta, minuteDelta, allDay, revertFunc) {
        return updateEvent(event);
      },
      eventResize: function(event, dayDelta, minuteDelta, revertFunc) {
        return updateEvent(event);
      }
    });
  });

  updateEvent = function(the_event) {
    return $.update("/events/" + the_event.id, {
      event: {
        title: the_event.title,
        starts_at: "" + the_event.start,
        ends_at: "" + the_event.end,
        description: the_event.description
      }
    });
  };

}).call(this);
:ET